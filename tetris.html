<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <!-- <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1" /> -->
    <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- <link rel="apple-touch-icon" href="images/apple-touch-icon.png" /> -->

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Audiowide&effect=shadow-multiple">
    <link rel="stylesheet" href="tetris.css">
    <title>Tetris</title>

    <style media="screen">

    #myElement {
      background: silver;
      height: 400px;
    }
    </style>

<script src="hammer.js"></script>

<script>
    function BlockElasticScroll(event) {
        event.preventDefault();
    }
    </script>
    <!-- <script src="Touch.js"></script>
    <script src="UTIL.js"></script> -->

    <!-- <script>
      Touch.init();
    </script> -->

<link rel="manifest" href="manifest.json">


  </head>
  <body ontouchmove="BlockElasticScroll(event);" id="body">

    <br/>
  <!--  <div id="topScore">test</div> -->






<div class="flex-container">
    <div id="leftside">
    left
    </div>
<div id="touchy">
    <canvas id="tetris" width="240" height="400">
    </canvas>
</div>
<div id="rightside">
    <div class="title">next</div>
    <div>
      <canvas id="next" width="40" height="40">
      </canvas>
    </div>
    <div class="title">score</div>
    <div id="score"></div>
    <div class="title">rows</div>
    <div id="rows"></div>
    <div class="title">level</div>
    <div id="level"></div>
    <div class="title">high</div>
    <div id="highscore"></div>

    </div>
</div>

<div id="pause" class="popup">
  <h1 class="font-effect-shadow-multiple">Tetris<br/></h1>

  <div class="grid-container">
    <div class="item1">P</div>
    <div class="item2">Play/Pause</div>
    <div class="item3">Esc</div>
    <div class="item4">End Game</div>
    <div class="item5">J &#8592;</div>
    <div class="item6">Left</div>
    <div class="item7">L &#8594;</div>
    <div class="item8">Right</div>
    <div class="item9">Q</div>
    <div class="item10">Rotate Left</div>
    <div class="item11">I W &#8593;</div>
    <div class="item12">Rotate Right</div>
    <div class="item13">K &#8595;</div>
    <div class="item14">Drop</div>
    <div class="item15">Space</div>
    <div class="item16">Hard Drop</div>
  </div>
</div>


<div id="newGame" class="popup">
    <div class="modal-content">
      <h1 class="font-effect-shadow-multiple">Tetris<br/></h1>
      <button onclick="startGame()" id="newGameBtn" style="width:250px">New Game</button>
      </div>
    </div>


<div id="gameOver" class="popup">
      <h2>Game Over</h2>
          <div class="grid-container">
            <div class="item1">Score</div>
            <div class="item2" id="scoreGO"></div>
            <div class="item3">Rows</div>
            <div class="item4" id="rowsGO"></div>
            <div class="item5"> Level</div>
            <div class="item6" id="levelGO"></div>
            <div class="item7" >Pieces</div>
            <div class="item8" id="pieces"></div>
            <div class="item9" >Time</div>
            <div class="item10" id="time"></div>
            <div class="item11">High</div>
            <div class="item12" id="highscoreGO"></div>
          </div>
          <br><br>
      <br>
      <button onclick="startGame()" id="newGameBtn" style="width:250px" tabindex="-1">
        <span>Start New Game</span>
        </button>
        <div style="width: 0px; height: 0px; overflow: hidden;">
            <button id="focus"></button>
        </div>
      </div>
      </div>
    </div>


<center>
<input type="button" value="Music" id="musicBtn" onclick="musicToggle()"></input>
<input type="button" value="Pause" id="pauseBtn" onclick="pauseGame()"></input>
<input type="button" value="Good Luck" id="imageBtn" onclick="displayImage()"></input>
<br>
<!-- <div id="nextblock"></div> -->
<!-- Trigger/Open The Modal -->
<button id="myBtn">Open Modal</button>

</center>




    <script src="tetris.js"></script>


    <script>
    // Get the modal
    var modal = document.getElementById("newGame");

    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks the button, open the modal
    btn.onclick = function() {
      modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    // span.onclick = function() {
    //   modal.style.display = "none";
    // }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
    </script>

    <!-- <audio controls autoplay loop>
      <source src="https://ia800504.us.archive.org/33/items/TetrisThemeMusic/Tetris.mp3" type="audio/mpeg">
      <embed src="https://ia800504.us.archive.org/33/items/TetrisThemeMusic/Tetris.mp3" autostart="true" loop="true" hidden="true">
    </audio> -->

<!-- <script>
  function play(){
  var audio = new Audio('https://ia800504.us.archive.org/33/items/TetrisThemeMusic/Tetris.ogg');
  audio.play();
};
</script>

<button onclick='play'>Music</button> -->

<audio id="playmusic" src="https://ia800504.us.archive.org/33/items/TetrisThemeMusic/Tetris.ogg" preload="auto"></audio>
<audio id="clearsound" src="https://raw.githubusercontent.com/dionyziz/canvas-tetris/master/sound/pop.ogg" preload="auto"></audio>

<!-- <center>
    <audio id="themeSong" controls loop>
        <source src="https://ia800504.us.archive.org/33/items/TetrisThemeMusic/Tetris.ogg">
          Your browser does not support the audio element.
        </audio>
</center> -->
<script>
    function focusor(){
        document.getElementById('focus').focus;
    }
    document.onkeydown = focusor;
    document.onclick = focusor;
</script>
<div style="width: 0px; height: 0px; overflow: hiddden;">
    <button id="focus2"></button>
</div>

<!-- <button id="correct">Music</button> -->
  </body>
</html>
